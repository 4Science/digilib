<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2017-08-22
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170822" />
    <meta http-equiv="Content-Language" content="en" />
    <title>digilib - The Digital Image Library &#x2013; Configuring digilib</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://robcast.github.io/digilib/" id="bannerLeft">
                <h2>digilib - a versatile image viewing environment for the internet</h2>
                </a>
                      </div>
        <div class="pull-right">                  <a href="https://robcast.github.io/digilib/" id="bannerRight">
                                                                                                <img src="images/digilib-logo-small.png" />
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2017-08-22</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 2.5-SNAPSHOT</li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="index.html" title="About digilib">
          <i class="none"></i>
        About digilib</a>
            </li>
                  
      <li>
    
                          <a href="features.html" title="digilib features">
          <i class="none"></i>
        digilib features</a>
            </li>
                  
      <li>
    
                          <a href="digilib-short.html" title="How digilib works">
          <i class="none"></i>
        How digilib works</a>
            </li>
                  
      <li>
    
                          <a href="history.html" title="Ancient history">
          <i class="none"></i>
        Ancient history</a>
            </li>
                              <li class="nav-header">Installation</li>
                                
      <li>
    
                          <a href="install-digilib.html" title="Installing digilib">
          <i class="none"></i>
        Installing digilib</a>
            </li>
                  
      <li>
    
                          <a href="build-maven.html" title="Building digilib">
          <i class="none"></i>
        Building digilib</a>
            </li>
                              <li class="nav-header">Configuration</li>
                                
      <li class="active">
    
            <a href="#"><i class="none"></i>Configuring digilib</a>
          </li>
                  
      <li>
    
                          <a href="image-directories.html" title="Directory layout">
          <i class="none"></i>
        Directory layout</a>
            </li>
                  
      <li>
    
                          <a href="java-settings.html" title="Java settings and tuning">
          <i class="none"></i>
        Java settings and tuning</a>
            </li>
                  
      <li>
    
                          <a href="auth.html" title="Access control">
          <i class="none"></i>
        Access control</a>
            </li>
                              <li class="nav-header">Development</li>
                                
      <li>
    
                          <a href="scaler-api.html" title="The digilib Scaler API">
          <i class="none"></i>
        The digilib Scaler API</a>
            </li>
                  
      <li>
    
                          <a href="iiif-api.html" title="The digilib IIIF API">
          <i class="none"></i>
        The digilib IIIF API</a>
            </li>
                  
      <li>
    
                          <a href="client-integration.html" title="Integrating digilib into your page">
          <i class="none"></i>
        Integrating digilib into your page</a>
            </li>
                  
      <li>
    
                          <a href="plugins.html" title="Digilib plugins">
          <i class="none"></i>
        Digilib plugins</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                          
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="http://maven.apache.org/" title="Built by Maven" class="builtBy">
        <img class="builtBy"  alt="Built by Maven" src="https://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                                                                                                    <a href="https://github.com/" title="Hosted by GitHub" class="builtBy">
        <img class="builtBy"  alt="Hosted by GitHub" src="https://assets-cdn.github.com/images/modules/logos_page/GitHub-Logo.png"   width="200px"  />
      </a>
                                                                                                    <a href="http://www.sourceforge.net/" title="Hosted by SourceForge" class="builtBy">
        <img class="builtBy"  alt="Hosted by SourceForge" src="https://upload.wikimedia.org/wikipedia/commons/0/0b/Sourceforge_logo.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Configuring digilib</h1>
<div class="section">
<h2><a name="digilib-config.xml"></a>digilib-config.xml</h2>
<p>The main configuration for digilib is the XML file <tt>digilib-config.xml</tt> in the <tt>WEB-INF</tt> directory in the webapp or a Java properties file <tt>digilib.properties</tt> somewhere in the classpath. (If you really need a different location for the XML file you can define it in the <tt>config-file</tt> init-parameter to the Servlet.)</p>
<p>In the configuration file you can set lots of paths and options. digilib uses default values for all configuration settings that meet most requirements so you have to configure only the settings that you want to change.</p>
<p>You have to adjust the <b><tt>basedir-list</tt></b> parameter to the directories where your images are installed. The directory path has to be an absolute path following the conventions of your operating system (a relative path is taken to be relative to the web application directory).</p>
<p>You need only one directory if you don&#x2019;t want to provide pre-scaled low resolution versions of your images. If you have pre-scaled images the directory with the high-resolution images must be the first entry in the list.</p>
<p>Documentation on the directory layout and on using pre-scaled images is <a href="image-directories.html">here</a>.</p>
<p>A minimal configuration looks like this:</p>

<div class="source">
<div class="source">
<pre>&lt;!-- Digilib servlet config file --&gt;
&lt;digilib-config&gt;
  &lt;!-- List of directories where images are searched.
       The authoritative directory with the high-resolution images
       is first in list. --&gt;
  &lt;parameter name=&quot;basedir-list&quot; value=&quot;/docuserver/images&quot; /&gt;
&lt;/digilib-config&gt;
</pre></div></div>
<p>A more customized configuration may look like the following (for another commented example see <a class="externalLink" href="https://sourceforge.net/p/digilib/code/ci/default/tree/webapp/src/main/webapp/WEB-INF/digilib-config.xml.template">digilib-config.xml.template</a>, for a full list of configuration options and their default values use the source: <a class="externalLink" href="https://sourceforge.net/p/digilib/code/ci/default/tree/common/src/main/java/digilib/conf/DigilibConfiguration.java">DigilibConfiguration</a>, <a class="externalLink" href="https://sourceforge.net/p/digilib/code/ci/default/tree/servlet/src/main/java/digilib/conf/DigilibServletConfiguration.java">DigilibServletConfiguration</a>, <a class="externalLink" href="https://sourceforge.net/p/digilib/code/ci/default/tree/servlet3/src/main/java/digilib/conf/DigilibServlet3Configuration.java">DigilibServlet3Configuration</a> ):</p>

<div class="source">
<div class="source">
<pre>&lt;!-- Digilib servlet config file --&gt;
&lt;digilib-config&gt;
  &lt;!--  Image to be sent to indicate general failure. --&gt;
  &lt;parameter name=&quot;error-image&quot; value=&quot;/docuserver/images/icons/broken.gif&quot; /&gt;

  &lt;!--  Image to be sent to indicate authorization failure. --&gt;
  &lt;parameter name=&quot;denied-image&quot; value=&quot;/docuserver/images/icons/alert.red.gif&quot; /&gt;

  &lt;!--  Image to be sent to indicate file-not-found. --&gt;
  &lt;parameter name=&quot;notfound-image&quot; value=&quot;/docuserver/images/icons/notfound.gif&quot; /&gt;

  &lt;!-- List of directories where images are searched.
       The authoritative directory with the high-resolution images
       is first in list. --&gt;
  &lt;parameter name=&quot;basedir-list&quot; value=&quot;/docuserver/images:/docuserver/scaled/small&quot; /&gt;

  &lt;!-- default interpolation quality (0=worst) --&gt;
  &lt;parameter name=&quot;default-quality&quot; value=&quot;2&quot;/&gt;

  &lt;!-- is sending whole image files with mo=file allowed? --&gt;
  &lt;parameter name=&quot;sendfile-allowed&quot; value=&quot;true&quot; /&gt;

  &lt;!-- the a maximum size of any sent image. (0 means no limit) --&gt;
  &lt;parameter name=&quot;max-image-size&quot; value=&quot;0&quot; /&gt;

  &lt;!-- number of working threads --&gt;
  &lt;parameter name=&quot;worker-threads&quot; value=&quot;2&quot; /&gt;

  &lt;!-- number of waiting requests in queue --&gt;
  &lt;parameter name=&quot;max-waiting-threads&quot; value=&quot;20&quot; /&gt;

  &lt;!-- Restrict access to authorized users --&gt;
  &lt;parameter name=&quot;use-authorization&quot; value=&quot;false&quot;/&gt;

  &lt;!-- use mapping of &quot;virtual directories&quot; to real directories on the server --&gt;
  &lt;parameter name=&quot;use-mapping&quot; value=&quot;true&quot;/&gt;

  &lt;!-- location of XML name mapping file --&gt;
  &lt;parameter name=&quot;mapping-file&quot; value=&quot;digilib-map.xml&quot;/&gt;

  &lt;!-- location of logger config file --&gt;
  &lt;parameter name=&quot;log-config-file&quot; value=&quot;log4j-config.xml&quot;/&gt;
&lt;/digilib-config&gt;
</pre></div></div>
<p>You can supply your own icons for the &#x201c;error&#x201d; and &#x201c;access denied&#x201d; messages by the servlet. Standard images will be used if these parameters are not defined.</p>
<p>If you need authorization set <tt>use-authorization</tt> to true and read the <a href="auth.html">documentation on authentication and authorization</a>.</p>
<p>You can see a summary of your running digilib configuration at the URL <a class="externalLink" href="http://localhost:8080/digitallibrary/server/dlConfig.jsp">http://localhost:8080/digitallibrary/server/dlConfig.jsp</a></p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2001-2017
                        <a href="https://github.com/robcast/digilib">digilib Community</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
